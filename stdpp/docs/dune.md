Support for the dune build system
=================================

**NOTE:** in case of problem with the dune build, you can ask @lepigre or
@Blaisorblade for help.

The library can be built using dune by running `dune build`. Note that `dune`
needs to be installed separately with `opam install dune`, as it is currently
not part of the dependencies of the project.

Useful links:
- [dune documentation](https://dune.readthedocs.io)
- [coq zulip channel](https://coq.zulipchat.com/#narrow/stream/240550-Dune-devs-.26-users)


Editor support
--------------

Editors relying on `_CoqProject` files for their configuration are supported.
A suitable `_CoqProject` file is generated by `dune build`. Note that you must
invoke `dune` manually to make sure that the dependencies of the file you are
stepping through are up-to-date. To build a single file, you can use, e.g.,
`dune build stdpp/options.vo`. To build only the `stdpp` folder, you can do
`dune build stdpp`.

Alternatively, you can configure your editor to invoke `dune coq top` instead
of `coqtop`, but that is non-trivial for most editors.

### Extra `_CoqProject` flags

If file `config/local` exists, then its contents is added at the end of
the generated `_CoqProject` file. This can be useful when the library is built
together with its dependencies (e.g., the Rocq standard library) as part of a
dune workspace build. Note that the file can be generated with a dune rule.
